<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>SKULL FOODâ„¢ - Home</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="SKULL FOODâ„¢: Rebellious, clean-label, and flavor-forward culinary creations." />
  <meta name="author" content="SKULL FOOD LLC" />

  <!-- Link to your style file -->
  <link rel="stylesheet" href="style.css">

  <!-- PayPal SDK -->
  <script src="https://www.paypal.com/sdk/js?client-id=AQ1goW3Tk1ZoZgHoceBqYLpPPSDXIkYXesxtQXxkcC1_00i8ikOEodIDQcgGDsDyN1hS5P-VXiZO27kT&currency=USD"></script>
</head>
<body>

  <!-- Shipping Bar -->
  <div class="shipping-bar">
    Free Nationwide Shipping on Orders $65+ | For the best experience, use Chrome or Edge.
  </div>

  <!-- Header / Navigation -->
  <header class="main-header">
    <div class="nav-container">
      <a href="index.html" class="nav-logo">SKULL FOOD<span>&trade;</span></a>
      <nav class="main-nav">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="shop.html">Sweet Spreads</a></li>
          <li><a href="pepper-spreads.html">Pepper Spreads</a></li>
          <li><a href="about.html">About Us</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- Floating Buttons (Menu & Cart) -->
  <button class="floating-btn" id="menuToggle" aria-label="Open Menu">â˜°</button>
  <button class="floating-btn" id="cartToggle" aria-label="Open Cart">
    ðŸ›’ <span class="cart-badge" id="cartCounter">0</span>
  </button>

  <!-- Slide-out Menu Panel -->
  <div class="slide-panel" id="slideMenu">
    <div class="panel-content">
      <div class="panel-header">
        <h2>MENU</h2>
        <button class="close-panel" id="closeMenu">&times;</button>
      </div>
      <ul style="list-style:none; padding:0; text-align:center; font-size:1.5rem; line-height:2;">
        <li><a href="index.html" style="color:#fff; text-decoration:none;">Home</a></li>
        <li><a href="shop.html" style="color:#fff; text-decoration:none;">Sweet Spreads</a></li>
        <li><a href="pepper-spreads.html" style="color:#fff; text-decoration:none;">Pepper Spreads</a></li>
        <li><a href="about.html" style="color:#fff; text-decoration:none;">About Us</a></li>
      </ul>
      <hr style="border-color:#333; margin: 2rem 0;">
      <div style="color:#ccc; margin-bottom: 2rem;">
        <h3 style="color:var(--neon-cyan);">FIND US</h3>
        <p>Find SKULL FOODâ„¢ products at select farmers' markets across California.</p>
        <p>Instagram: <a href="https://www.instagram.com/skullfood.us" target="_blank" style="color:var(--neon-magenta);">@skullfood.us</a></p>
      </div>
    </div>
  </div>

  <!-- Slide-out Cart Panel -->
  <div class="slide-panel" id="slideCart">
    <div class="panel-content">
      <div class="panel-header">
        <h2>YOUR CART</h2>
        <button class="close-panel" id="closeCart">&times;</button>
      </div>
      <div id="cartItems"></div>
      
      <!-- Coupon -->
      <div style="margin-top: 2rem; border-top: 1px solid #333; padding-top: 1rem;">
        <div style="display:flex; gap:10px;">
          <input type="text" id="couponCode" placeholder="Enter Coupon Code" style="flex:1; padding:10px; border-radius:4px; border:none;">
          <button id="applyCouponBtn" class="btn btn-primary" style="width:auto;">Apply</button>
        </div>
        <p id="couponMessage" style="font-size:0.8rem; text-align:center; margin-top:5px;"></p>
      </div>

      <!-- Totals -->
      <div style="margin-top: 1rem; color:#fff; font-weight:bold;">
        <div style="display:flex; justify-content:space-between; margin-bottom:0.5rem;">
          <span>Subtotal:</span> <span id="cartSubtotal">$0.00</span>
        </div>
        <div style="display:flex; justify-content:space-between; margin-bottom:0.5rem;">
          <span>Shipping:</span> <span id="cartShipping">$0.00</span>
        </div>
        <div style="display:flex; justify-content:space-between; font-size:1.2rem; border-top:1px solid #333; padding-top:0.5rem;">
          <span>Total:</span> <span id="cartTotal">$0.00</span>
        </div>
      </div>
      <div id="paypal-button-container" style="margin-top:1rem;"></div>
    </div>
  </div>

  <!-- Slide-out Contact Form -->
  <div class="slide-panel" id="contactPanel" style="z-index:1500; border-left:1px solid var(--neon-cyan); right:0; transform:translateX(100%);">
    <div class="panel-content">
      <div class="panel-header">
        <h2>CONTACT US</h2>
        <button class="close-panel" id="closeContact">&times;</button>
      </div>
      <p style="color:#aaa;">We'd love to hear from you. Fill out the form below.</p>
      <form action="https://formsubmit.co/info@skullfood-us.com" method="POST" style="margin-top:1rem; display:flex; flex-direction:column; gap:1rem;">
        <input type="text" name="First Name" placeholder="First Name" required style="padding:12px; background:#222; border:1px solid #444; color:#fff; border-radius:4px;">
        <input type="email" name="Email" placeholder="Email Address" required style="padding:12px; background:#222; border:1px solid #444; color:#fff; border-radius:4px;">
        <textarea name="Message" placeholder="Your Message..." required style="padding:12px; background:#222; border:1px solid #444; color:#fff; border-radius:4px; min-height:120px;"></textarea>
        <button type="submit" class="btn btn-primary">SEND MESSAGE</button>
      </form>
    </div>
  </div>

  <!-- MAIN CONTENT -->
  <div class="container">
    <h1 style="font-size: 3rem; margin-bottom: 1rem; color: #fff; text-shadow: 2px 2px var(--neon-cyan);">SKULL FOOD&trade;</h1>
    <p style="font-size: 1.2rem; color: var(--neon-cyan); font-weight: bold; margin-bottom: 2rem;">
      Rebellious. Clean-label. Flavor-forward. Coming soon to your taste buds.
    </p>
    <p style="font-size: 1.1rem; line-height: 1.6; max-width: 700px; margin: 0 auto 2rem auto;">
      SKULL FOODâ„¢ isnâ€™t just a flavor print. Itâ€™s a rebellion. A non-ordinary brand. We stand for transparency, taste, and you knowâ€¦ not classic.
    </p>
    <strong style="display:block; font-size: 1.2rem; color: var(--neon-magenta); margin-top: 2rem;">
      Join the rebellion.
    </strong>
    <button id="contactFab" style="position:fixed; bottom:30px; right:30px; background:var(--neon-cyan); color:#000; padding:10px 20px; border:none; border-radius:30px; font-weight:bold; z-index:900; box-shadow:0 0 10px var(--neon-cyan); cursor:pointer;">
      Chat with us
    </button>
  </div>

  <!-- FOOTER -->
  <footer class="main-footer">
    <div style="margin-bottom:1rem;">
      <a href="https://www.instagram.com/skullfood.us" target="_blank" class="social-link">Instagram: @skullfood.us</a>
    </div>
    <p style="color:#666;">&copy; 2025 SKULL FOOD LLC. All rights reserved.</p>
  </footer>

  <!-- EMBEDDED JAVASCRIPT (GUARANTEED TO WORK) -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- 1. SLIDE PANELS ---
        const menuBtn = document.getElementById('menuToggle');
        const closeMenu = document.getElementById('closeMenu');
        const slideMenu = document.getElementById('slideMenu');

        const cartBtn = document.getElementById('cartToggle');
        const closeCart = document.getElementById('closeCart');
        const slideCart = document.getElementById('slideCart');

        const contactFab = document.getElementById('contactFab');
        const closeContact = document.getElementById('closeContact');
        const contactPanel = document.getElementById('contactPanel');

        // Toggle Function
        function togglePanel(panel) {
            // Close all others first
            [slideMenu, slideCart, contactPanel].forEach(p => {
                if(p && p !== panel) p.classList.remove('active');
            });
            if(panel) panel.classList.toggle('active');
        }

        // Listeners
        if(menuBtn) menuBtn.addEventListener('click', (e) => { e.preventDefault(); togglePanel(slideMenu); });
        if(closeMenu) closeMenu.addEventListener('click', (e) => { e.preventDefault(); togglePanel(slideMenu); });

        if(cartBtn) cartBtn.addEventListener('click', (e) => { e.preventDefault(); togglePanel(slideCart); });
        if(closeCart) closeCart.addEventListener('click', (e) => { e.preventDefault(); togglePanel(slideCart); });

        if(contactFab) contactFab.addEventListener('click', (e) => { e.preventDefault(); togglePanel(contactPanel); });
        if(closeContact) closeContact.addEventListener('click', (e) => { e.preventDefault(); togglePanel(contactPanel); });

        // --- 2. CART LOGIC ---
        let cart = JSON.parse(localStorage.getItem('skullfoodCart')) || [];
        updateCartDisplay();

        function updateCartDisplay() {
            const badge = document.getElementById('cartCounter');
            if(badge) {
                const count = cart.reduce((sum, item) => sum + item.quantity, 0);
                badge.innerText = count;
            }
            renderCartItems();
        }

        function renderCartItems() {
            const container = document.getElementById('cartItems');
            if(!container) return;
            container.innerHTML = '';
            
            let subtotal = 0;
            if(cart.length === 0) {
                container.innerHTML = '<p style="text-align:center; color:#888;">Cart is empty.</p>';
            } else {
                cart.forEach(item => {
                    subtotal += item.price * item.quantity;
                    container.innerHTML += `
                        <div class="cart-item" style="display:flex; align-items:center; margin-bottom:1rem; background:#222; padding:10px;">
                            <div style="flex-grow:1; text-align:left;">
                                <h4 style="margin:0; color:#fff;">${item.name}</h4>
                                <p style="margin:0; color:#888;">$${item.price} x ${item.quantity}</p>
                            </div>
                            <button class="cart-remove" data-id="${item.id}" style="color:red; background:none; border:none; cursor:pointer;">&times;</button>
                        </div>
                    `;
                });
            }

            // Calculations
            const shipping = (subtotal > 0 && subtotal < 65) ? 20.00 : 0.00;
            const total = subtotal + shipping;

            if(document.getElementById('cartSubtotal')) document.getElementById('cartSubtotal').innerText = `$${subtotal.toFixed(2)}`;
            if(document.getElementById('cartShipping')) document.getElementById('cartShipping').innerText = `$${shipping.toFixed(2)}`;
            if(document.getElementById('cartTotal')) document.getElementById('cartTotal').innerText = `$${total.toFixed(2)}`;
            
            // Render PayPal
            const ppContainer = document.getElementById('paypal-button-container');
            if(ppContainer) {
                ppContainer.innerHTML = '';
                if(total > 0 && window.paypal) {
                    paypal.Buttons({
                        createOrder: function(data, actions) {
                            return actions.order.create({ purchase_units: [{ amount: { value: total.toFixed(2) } }] });
                        },
                        onApprove: function(data, actions) {
                            return actions.order.capture().then(function(details) {
                                alert('Thank you ' + details.payer.name.given_name);
                                cart = [];
                                localStorage.setItem('skullfoodCart', JSON.stringify(cart));
                                updateCartDisplay();
                                togglePanel(slideCart);
                            });
                        }
                    }).render('#paypal-button-container');
                }
            }
        }

        // Remove Items
        const cartContainer = document.getElementById('cartItems');
        if(cartContainer) {
            cartContainer.addEventListener('click', (e) => {
                if(e.target.closest('.cart-remove')) {
                    const id = e.target.closest('.cart-remove').dataset.id;
                    cart = cart.filter(item => item.id !== id);
                    localStorage.setItem('skullfoodCart', JSON.stringify(cart));
                    updateCartDisplay();
                }
            });
        }
    });
  </script>

</body>
</html>
